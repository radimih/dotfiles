# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# #  Managed by Ansible                                                     # #
# #  DO NOT EDIT THIS FILE MANUALLY                                         # #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

[fetch]
  all = true
  prune = true
  pruneTags = true

[init]
  defaultBranch = main

[push]
  autoSetupRemote = true

[rerere]
  enabled = true
  autoupdate = true

# Подписывание всех коммитов SSH-ключом пользователя
#   - https://docs.github.com/en/authentication/managing-commit-signature-verification/telling-git-about-your-signing-key#telling-git-about-your-ssh-key
#   - https://docs.gitlab.com/ee/user/project/repository/ssh_signed_commits/

[commit]
  gpgSign = true

[gpg]
  format = ssh

[user]
  signingKey = ~/.ssh/id_ed25519

# user.email/name в зависимости от того, с каким удалённым репозиторием работаем

# --- github.com

[includeIf "hasconfig:remote.*.url:git@github.com:*/**"]
  path = github.ini

[includeIf "hasconfig:remote.*.url:https://github.com/**"]
  path = github.ini

# --- it2g.ru

[includeIf "hasconfig:remote.*.url:git@git.it2g.ru:*/**"]
  path = it2g.ini

[includeIf "hasconfig:remote.*.url:https://git.it2g.ru/**"]
  path = it2g.ini

# --- mos-team.ru

[includeIf "hasconfig:remote.*.url:https://gitlab.mos-team.ru/**"]
  path = mos-team.ini

[includeIf "hasconfig:remote.*.url:https://*@gitlab.mos-team.ru/**"]
  path = mos-team.ini

# Использование VS Code
#   - https://code.visualstudio.com/docs/sourcecontrol/overview#_vs-code-as-git-difftool-and-mergetool

[diff]
  algorithm = histogram
  renames = true
  tool = default-difftool

[difftool "default-difftool"]
  cmd = code --wait --diff $LOCAL $REMOTE

[merge]
  tool = code

[mergetool "code"]
  cmd = code --wait --merge $REMOTE $LOCAL $BASE $MERGED
