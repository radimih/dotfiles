# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# #  Managed by Ansible                                                     # #
# #  DO NOT EDIT THIS FILE MANUALLY                                         # #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

[ -s {{ zinit_home_dir }}/bin/zinit.zsh ] && source {{ zinit_home_dir }}/bin/zinit.zsh

{% for plugin in zinit_plugins -%}
    {% if "ices" in plugin -%}
        zinit ice
        {%- for ice in plugin.ices %}
            {{- ' ' }}
            {%- if ice is mapping %}
                {%- if "value" in ice -%}
                    {{ ice.name }}='{{ ice.value }}'
                {%- else -%}
                    {{ ice.name }}
                {%- endif -%}
            {%- else -%}
                {{ ice }}
            {%- endif -%}
            {%- if loop.last %}
                {{- '\n    ' -}}
            {% endif -%}
        {% endfor -%}
    {% endif -%}
    zinit {{ plugin.type }} {{ plugin.name }}
{% endfor %}
