# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
# #  Managed by Ansible                                                     # #
# #  DO NOT EDIT THIS FILE MANUALLY                                         # #
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# From official installation script:
# https://github.com/zdharma/zinit/blob/master/doc/install.sh

source "{{ zinit_home_dir }}/{{ zinit_bin_dirname }}/zinit.zsh"
autoload -Uz _zinit
(( ${+_comps} )) && _comps[zinit]=_zinit

# From zinit_plugins Ansible varialbe:

{% for plugin in zinit_plugins -%}
    {% if "ices" in plugin -%}
        zinit ice
        {%- for ice in plugin.ices %}
            {{- ' ' }}
            {%- if ice is mapping %}
                {%- if "value" in ice -%}
                    {{ ice.name }}='{{ ice.value }}'
                {%- else -%}
                    {{ ice.name }}
                {%- endif -%}
            {%- else -%}
                {{ ice }}
            {%- endif -%}
            {%- if loop.last %}
                {{- '\n    ' -}}
            {% endif -%}
        {% endfor -%}
    {% endif -%}
    zinit {{ plugin.type }} {{ plugin.name }}
{% endfor %}
